<app-header></app-header>
<div class="main-container">
  <div id="profile" [ngClass]="{'profile-display': !productListView}">
    <div class="profile-pic">
      <img *ngIf="profile" src="{{profile.photoURL}}" alt="">
    </div>
    <div class="info-container">
      <div class="pen" *ngIf="canEdit && !publicView"><mat-icon>edit</mat-icon></div>
      <div *ngIf="profile" class="username">{{profile.displayName}}</div>
      <div class="review-icon" *ngIf="canEdit && publicView">
         <div *ngFor="let star of stars">
            <mat-icon>star_border</mat-icon>
         </div> 
         <p>Reviews</p>
      </div>
      <p>
        1600 Pennsylvannia Ave, 
        Washington DC, District of Columbia
      </p>
      <div *ngIf="canEdit && !publicView">
        <app-action-button (click)="toggleProfileView()" *ngIf="canEdit" class="profile-button" ctaText="Preview Public Mode" size="'lg'"></app-action-button>
      </div> 
      <div *ngIf="canEdit && publicView">
        <app-action-button (click)="toggleProfileView()" *ngIf="canEdit" class="profile-button" ctaText="Edit Mode" size="'lg'"></app-action-button>
      </div>  
      <div *ngIf="!canEdit">
        <app-action-button *ngIf="!canEdit" class="profile-button" ctaText="Contact Seller" size="'lg'"></app-action-button>
      </div>    
    </div>
  </div>

  <div  id="products">
      <mat-tab-group [selectedIndex]="selectedTab" *ngIf="productListView">
        <mat-tab label="Active Products">
          <mat-card *ngIf="canEdit && !publicView" class="add-tile" (click)="addProduct()">
            <mat-icon>add</mat-icon>
          </mat-card>
          <div class="active-products-container">

            <mat-card class="product-tile" *ngFor="let product of products">
                <div class="profile-pic">
                  <img mat-card-image *ngIf="product.image" src="{{product.image}}" alt="Photo of a Shiba Inu">
                </div>
                <mat-card-content>
                    {{product.name}}
                    {{product.brand}}
                    {{product.description}}   
                </mat-card-content>
                <mat-card-actions>
                  <button mat-button>${{product.price}}</button>
                </mat-card-actions>
              </mat-card>
          </div>
        </mat-tab>
        <mat-tab label="Out of stock">
            
          </mat-tab>
      </mat-tab-group>
      <app-add-product (doneAddingProduct)="doneAdding($event)" *ngIf="!productListView"></app-add-product>
  </div>
</div>